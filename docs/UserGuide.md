## Roo Code × Perplexity AIブラウザ連携機能 利用者ガイド

### 1. はじめに

このガイドは、Roo Codeに追加された「Perplexity AIブラウザ連携機能」の利用方法について説明します。この機能を使うことで、Roo Codeの中から直接Perplexity AIに質問を投げかけ、その回答を簡単に取得・利用できるようになります。

### 2. 主な機能

*   **プロンプト送信**: Roo CodeからPerplexity AIに直接、質問や指示（プロンプト）を送ることができます。
*   **回答取得**: Perplexity AIからの回答（本文、引用元URL、関連質問など）をRoo Code内に自動で取り込みます。
*   **Focusモード指定**: Perplexity AIの検索モード（Web, Academic, Writingなど）を指定して質問できます[5]。
*   **オプション指定**: 回答の最大文字数などのオプションを指定できます[5]。
*   **自動ブラウザ操作**: Selenium技術を利用して、バックグラウンドでFirefoxブラウザを自動操作します。手動でブラウザを開く必要はありません[4]。
*   **セッション維持**: 一度起動したブラウザ接続を維持し、連続して質問する際の応答速度を向上させます[4][5]。

### 3. 使い方

#### 3.1 準備

*   **必要なソフトウェア**:
    *   Firefoxブラウザがインストールされていること[4]。
    *   Roo Code拡張機能が正しくセットアップされていること。
    *   (初回利用時) システムがWebDriverを自動で設定します。

#### 3.2 プロンプトの入力と送信

1.  **入力方法**: Roo Codeの指定された入力エリア（コマンドパレット、チャットウィンドウなど）に、Perplexity AIへの質問や指示を入力します。
2.  **入力形式**: 基本的にはテキストで質問内容を入力します。オプションを指定する場合は、JSON形式で入力します[5]。
    *   **テキストのみの例**:
        ```
        AI技術の最新トレンドについて教えてください。
        ```
    *   **JSON形式でのオプション指定例**:
        ```json
        {
          "prompt": "AI技術の最新トレンドについて、学術的な観点から説明してください。",
          "focusMode": "Academic",
          "options": { "maxLength": 500 }
        }
        ```
3.  **送信**: 入力後、「送信」ボタンをクリックするか、指定されたコマンドを実行します。

#### 3.3 回答の確認

*   **出力場所**: 送信後、Perplexity AIからの回答がRoo Code内の指定された場所（エディタ、チャットウィンドウ、または指定ファイル）に自動で出力されます[4][5]。
*   **出力形式**: 回答は通常、以下のようなJSON形式で提供されます[5]。
    ```json
    {
      "answer": "AI技術の最新トレンドには、大規模言語モデルの進化、生成AIの応用拡大、AI倫理の重要性向上などが挙げられます...",
      "citations": [
        "https://example.com/ai-trend1",
        "https://example.com/ai-trend2"
      ],
      "relatedQuestions": [
        "AI倫理に関する具体的な課題は？"
      ]
    }
    ```
    Roo Codeの設定によっては、見やすいように整形されて表示される場合もあります。

### 4. 設定項目

以下の設定をカスタマイズできます（設定方法はRoo Codeのドキュメントを参照してください）。

*   **ヘッドレスモード**: `true`に設定すると、ブラウザ画面を表示せずにバックグラウンドで実行します（推奨）。`false`にするとブラウザ画面が表示されます（デバッグ用）[4][5]。
*   **タイムアウト時間**: Perplexity AIからの応答を待つ最大時間（秒）を設定します（デフォルト: 30秒）[4]。
*   **セッション保持時間**: ブラウザ接続を維持する時間（秒）を設定します（デフォルト: 28800秒 = 8時間）[4]。

### 5. ご利用にあたっての注意点

*   **Perplexity AIの利用規約**: 本機能はPerplexity AIのウェブサイトを自動操作します。Perplexity AIの利用規約、特に自動化に関する規約を遵守してください[4][5]。過度な連続アクセスは避けてください（システム側で1分あたり3回までの制限を設けています）[4]。
*   **無料プランの制限**: Perplexity AIの無料プランには、利用回数などの制限がある場合があります[5]。
*   **UI変更の影響**: Perplexity AIのウェブサイトのデザインや構造が変更されると、本機能が一時的に正しく動作しなくなる可能性があります。その場合は、開発者による修正をお待ちください[1][4][5]。
*   **エラー発生時**:
    *   **タイムアウト**: 応答が指定時間内に返ってこない場合、ネットワーク接続を確認するか、しばらく待ってから再試行してください。
    *   **要素未検出**: Perplexity AIのUI変更が原因である可能性があります。開発者にご連絡ください。
    *   システムはいくつかのエラーに対して自動復旧を試みますが、解決しない場合はRoo Codeを再起動してみてください[4]。

### 6. 困ったときは

*   **エラーメッセージを確認する**: Roo Codeのログや通知にエラーの詳細が表示されている場合があります[4]。
*   **設定を確認する**: Firefoxのパスなどが正しく設定されているか確認してください[1]。
*   **再起動する**: Roo CodeやPCの再起動で解決する場合があります。
*   **開発者に問い合わせる**: 上記で解決しない場合は、表示されたエラーメッセージとともに開発者にご連絡ください。

---
このガイドを参考に、Roo CodeとPerplexity AIの連携機能を活用して、効率的な情報収集やタスク処理にお役立てください。

Citations:
[1] https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/52522745/7a04f025-5e90-4e97-91a8-65d9eeccdacc/ref1.md
[2] https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/52522745/0438d1f4-0a20-492c-ae44-231851b45610/ref2.md
[3] https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/52522745/4e72129b-ec12-4a84-a17e-7e7333e34635/ref3.md
[4] https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/52522745/c7658b29-9f0a-4ef7-bc8f-cae9718cb6a0/Quan-Ti-She-Ji.md
[5] https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/52522745/74cb3edf-94a1-4918-9745-6350563c4d00/She-Ji-Yao-Jian.md

---
Perplexity の Eliot より: pplx.ai/share